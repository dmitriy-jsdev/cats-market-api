# Cats Market API ‚Äî Node.js + TypeScript + Express

–ù–µ–±–æ–ª—å—à–æ–π REST API –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –∫–æ—à–µ–∫ üê±: –æ—Ç–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ ¬´—Ç–æ–≤–∞—Ä–æ–≤¬ª (–∫–æ—Ç–æ–≤) —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, —Ä–∞–∑–¥–∞—ë—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø–∞—Ä–µ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º **Cats Market** (–æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π).

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–°–ø–∏—Å–æ–∫ –∫–æ—Ç–æ–≤**

  - `GET /api/products` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ—Ç–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:
    - `page` ‚Äî –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `1`);
    - `limit` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `5`).
  - –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
    - `products` ‚Äî –º–∞—Å—Å–∏–≤ –∫–æ—Ç–æ–≤;
    - `pages` ‚Äî –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü.

- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**

  - `POST /api/sign_up` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    - –í–∞–ª–∏–¥–∞—Ü–∏—è –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –¥–ª–∏–Ω–∞).
    - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    - –ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ —Ö—ç—à–µ–π (`bcryptjs`).
  - `POST /api/sign_in` ‚Äî –≤—Ö–æ–¥ –ø–æ –ª–æ–≥–∏–Ω—É –∏ –ø–∞—Ä–æ–ª—é.
    - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è —Å —Ö—ç—à–µ–º.
    - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JWT –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ httpOnly cookie `token`.
  - `GET /api/me` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ cookie `token`.
    - –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏/–Ω–µ–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `401`.

- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã**

  - –†–∞–∑–¥–∞—á–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–æ—Ç–æ–≤ –∏–∑ `public/images/cats` –ø–æ –ø—É—Ç–∏:
    - `GET /images/cats/<–∏–º—è_—Ñ–∞–π–ª–∞>`

- **CORS –∏ JSON**
  - –í–∫–ª—é—á—ë–Ω CORS –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —Ñ—Ä–æ–Ω—Ç–∞.
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSON-—Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (`express.json()`).

---

## üß∞ –°—Ç–µ–∫

- Node.js, TypeScript
- Express
- CORS
- –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π: `bcryptjs`
- JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: `jsonwebtoken`
- –°–±–æ—Ä–∫–∞: `typescript` + `tsc`
- Dev-—Ä–µ–∂–∏–º: `ts-node-dev`

---

## üì¶ –î–∞–Ω–Ω—ã–µ

- –ö–æ—Ç—ã –æ–ø–∏—Å–∞–Ω—ã –∫–∞–∫ –º–æ–∫-–¥–∞–Ω–Ω—ã–µ –≤ TypeScript-–º–æ–¥—É–ª–µ:

  - `src/data/cats.ts` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Product` –∏ –º–∞—Å—Å–∏–≤ `ALL_CATS`.
  - –î–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–π URL, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
    - `BASE_IMAGE_URL` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:3000/images/cats`).

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
  - –•—Ä–∞–Ω—è—Ç—Å—è **–≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞** (in-memory) –≤ –º–æ–¥—É–ª–µ:
    - `src/data/users.ts`
  - –î–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–º–æ: **–ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è**.

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ç–æ–∫–µ–Ω—ã

- –ü—Ä–∏ `POST /api/sign_in`:

  - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JWT –≤–∏–¥–∞ `{ userId, username }`.
  - –¢–æ–∫–µ–Ω –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–æ–º `JWT_SECRET`.
  - –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∑–∞–¥–∞—ë—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π (`7d` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
  - –¢–æ–∫–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É –≤ –≤–∏–¥–µ httpOnly cookie `token`.

- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
  - `PORT` ‚Äî –ø–æ—Ä—Ç HTTP-—Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `3000`).
  - `JWT_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é dev-–∑–Ω–∞—á–µ–Ω–∏–µ, –≤ –ø—Ä–æ–¥–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å).
  - `BASE_IMAGE_URL` ‚Äî –±–∞–∑–æ–≤—ã–π URL –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É—Ç–µ–π –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –∫–æ—Ç–æ–≤.

---

## üöÄ –î–µ–º–æ

–†–∞–∑–≤—ë—Ä–Ω—É—Ç–æ –Ω–∞ Render:  
**https://cats-market-api.onrender.com**

–ü—Ä–∏–º–µ—Ä —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ (—Å–ø–∏—Å–æ–∫ –∫–æ—Ç–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π):  
**https://cats-market-api.onrender.com/api/products?page=1&limit=5**

---

## üõ† –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
# —É—Å—Ç–∞–Ω–æ–≤–∫–∞
npm install

# dev-—Å–µ—Ä–≤–µ—Ä
npm run dev

# —Å–±–æ—Ä–∫–∞
npm run build
```
